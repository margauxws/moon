<!DOCTYPE html>
<html>
  <head>
    <title>Simple Map</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <link rel="stylesheet" media="screen" href="MoonChild.css">
    <link rel="EditURI" type="application/rsd+xml" href="//www.mediawiki.org/w/api.php?action=rsd" />
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD9E4isHeXDswrWSl2UlX6ZmRPfa3vVmuQ"></script>
    <style>
      html{
        height: 100%;
        margin: 0;
        padding: 0;
        font-family: Glacial Indifference, sans-serif;
      }
      #map {
        height:1000px;
        width:1000px;
        z-index: 2;
        margin: auto;
        /*width: inherit;*/
      }
    ApolloOverlay {
      z-index: 3
    }
    </style>

    <script>

    $(document).ready(function(){

    function test () {
    console.log("testing")
  }

  var ApolloOverlay;

  function initMap() {
    var map = new google.maps.Map(document.getElementById('map'), {
      zoom: 2,
      center: {lat: 11.13, lng: 69.13},
      streetViewControl: false,
      mapTypeControlOptions: {
      mapTypeIds: ['moon']
    }
    });

    var imageBounds = {
      north: 73.2,
      south: 65.1,
      east: 9.58,
      west: 12.64
    };
  var script = document.createElement('script');

      script.src = 'https://deb32cb1310ab4c76c879fdcc044b9beba4c6ec6.googledrive.com/host/0Bw0s-MAw6bC9WV9EUGVvSjdfVDg/xsMapping.html?f=craters.craters.291713093.json';
      document.getElementsByTagName('head')[0].appendChild(script);

  map.data.setStyle(function(feature) {
    var magnitude = feature.getProperty('Diameter');
    return {
      icon: getCircle(magnitude)
    }
  });


function getCircle(magnitude) {
  var circle = {
    path: google.maps.SymbolPath.CIRCLE,
    fillColor: 'white',
    fillOpacity: .1,
    scale: Math.pow(2, magnitude) / 2,
    strokeColor: 'white',
    strokeWeight: .5
  };
  return circle;
};

function eqfeed_callback(results) {
  map.data.addGeoJson(results);
};

google.maps.event.addDomListener(window, 'load');

function getNormalizedCoord(coord, zoom) {
  var y = coord.y;
  var x = coord.x;
  var tileRange = 1 << zoom;
  if (y < 0 || y >= tileRange) {
  return null;
  }
  if (x < 0 || x >= tileRange) {
  x = (x % tileRange + tileRange) % tileRange;
  }
  return {x: x, y: y};
};

initMap();
}


      </script>

  </head>
  <body>
  <div class = "topbar">
  <h1> Google Moon </h1>
    <div class = "imagetypes">
      <div id = "craters"> Craters </div>
      <div id = "Apollo"> Apollo </div>
      <div id = "panoramas"> Panoramas </div>
    </div>
  </div>
  <div class = "sidebar">
    <h2> Info </h2>
</div>

    <div id="map"></div>


  </body>
</html>
